(function(n){function r(n,t){var r,i;if(!n)throw new Error('Selector missing, eg: new Wallop(".selector")');for(r=0;r<o.length;r++)if(o[r]===n)throw new Error("An instance of Wallop with this selector already exists.");if(this.options={buttonPreviousClass:"Wallop-buttonPrevious",buttonNextClass:"Wallop-buttonNext",itemClass:"Wallop-item",currentItemClass:"Wallop-item--current",showPreviousClass:"Wallop-item--showPrevious",showNextClass:"Wallop-item--showNext",hidePreviousClass:"Wallop-item--hidePrevious",hideNextClass:"Wallop-item--hideNext",carousel:!0},n.length>0)throw new Error("Selector cannot be an array");else this.$selector=n;this.options=s(this.options,t);this.event=null;this.allItemsArray=Array.prototype.slice.call(this.$selector.querySelectorAll(" ."+this.options.itemClass));this.allItemsArrayLength=this.allItemsArray.length-1;this.currentItemIndex=this.allItemsArray.indexOf(this.$selector.querySelector(" ."+this.options.currentItemClass));this.buttonPrevious=this.$selector.querySelector(" ."+this.options.buttonPreviousClass);this.buttonNext=this.$selector.querySelector(" ."+this.options.buttonNextClass);this.bindEvents();this.createCustomEvent();this.currentItemIndex<0&&(this.currentItemIndex=0,f(this.allItemsArray[this.currentItemIndex],this.options.currentItemClass));i=this;setTimeout(function(){i.event.detail.currentItemIndex=i.currentItemIndex;i.$selector.dispatchEvent(i.event)},0)}function u(n){if(n)return document.querySelectorAll("."+n)}function f(n,t){n&&(n.className=n.className.replace(/\s+$/gi,"")+" "+t)}function i(n,t){n&&(n.className=n.className.replace(t,""))}function s(n,t){var r={};for(var i in n)r[i]=n[i];for(i in t)r[i]=t[i];return r}function e(n,t){t=t||{bubbles:!1,cancelable:!1,detail:undefined};var i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i}var o=[],t=r.prototype;t.updateButtonStates=function(){(this.buttonPrevious||this.buttonNext)&&(this.currentItemIndex===this.allItemsArrayLength&&this.options.carousel!==!0?this.buttonNext.setAttribute("disabled","disabled"):this.currentItemIndex===0&&this.options.carousel!==!0&&this.buttonPrevious.setAttribute("disabled","disabled"))};t.removeAllHelperSettings=function(){(i(this.allItemsArray[this.currentItemIndex],this.options.currentItemClass),i(u(this.options.hidePreviousClass)[0],this.options.hidePreviousClass),i(u(this.options.hideNextClass)[0],this.options.hideNextClass),i(u(this.options.showPreviousClass)[0],this.options.showPreviousClass),i(u(this.options.showNextClass)[0],this.options.showNextClass),this.buttonPrevious||this.buttonNext)&&(this.buttonPrevious.removeAttribute("disabled"),this.buttonNext.removeAttribute("disabled"))};t.goTo=function(n){if(n!==this.currentItemIndex){if(this.options.carousel&&n===-1)n=this.allItemsArrayLength-1;else if(n>this.allItemsArrayLength||n<0)return;this.removeAllHelperSettings();f(this.allItemsArray[this.currentItemIndex],n>this.currentItemIndex?this.options.hidePreviousClass:this.options.hideNextClass);f(this.allItemsArray[n],this.options.currentItemClass+" "+(n>this.currentItemIndex?this.options.showNextClass:this.options.showPreviousClass));this.currentItemIndex=n;this.updateButtonStates();this.event.detail.currentItemIndex=this.currentItemIndex;this.$selector.dispatchEvent(this.event)}};t.previous=function(){this.options.carousel&&this.currentItemIndex===0?this.goTo(this.allItemsArrayLength):this.goTo(this.currentItemIndex-1)};t.next=function(){this.currentItemIndex>=this.allItemsArrayLength&&this.options.carousel===!0?this.goTo(0):this.goTo(this.currentItemIndex+1)};t.bindEvents=function(){o.push(this.$selector);var n=this;this.buttonPrevious&&this.buttonPrevious.addEventListener("click",function(t){t.preventDefault();n.previous()});this.buttonNext&&this.buttonNext.addEventListener("click",function(t){t.preventDefault();n.next()})};t.on=function(n,t){this.$selector.addEventListener(n,function(n){return t(n)},!1)};t.createCustomEvent=function(){var n=this;this.event=new e("change",{detail:{wallopEl:n.$selector,currentItemIndex:Number(n.currentItemIndex)},bubbles:!0,cancelable:!0})};e.prototype=window.CustomEvent?window.CustomEvent.prototype:{};window.CustomEvent=e;typeof define=="function"&&define.amd?define(function(){return r}):typeof module!="undefined"&&module.exports?module.exports=r:n.Wallop=r})(this);
/*!
 * SmartMenus jQuery Plugin - v1.0.0-beta1 - June 1, 2015
 * http://www.smartmenus.org/
 *
 * Copyright 2015 Vasil Dinkov, Vadikom Web Ltd.
 * http://vadikom.com
 *
 * Licensed MIT
 */
(function(n){function f(f){var c=".smartmenus_mouse",h,s;u||f?u&&f&&(n(document).unbind(c),u=!1):(h=!0,s=null,n(document).bind(t([["mousemove",function(t){var u={x:t.pageX,y:t.pageY,timeStamp:(new Date).getTime()},e,o,f;s&&(e=Math.abs(s.x-u.x),o=Math.abs(s.y-u.y),(e>0||o>0)&&e<=2&&o<=2&&u.timeStamp-s.timeStamp<=300&&(r=!0,h&&(f=n(t.target).closest("a"),f.is("a")&&n.each(i,function(){if(n.contains(this.$root[0],f[0]))return this.itemEnter({currentTarget:f[0]}),!1}),h=!1)));s=u}],[o()?"touchstart":"pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut",function(n){e(n.originalEvent)&&(r=!1)}]],c)),u=!0)}function e(n){return!/^(4|mouse)$/.test(n.pointerType)}function o(){return"ontouchstart"in window}function t(t,i){i||(i="");var r={};return n.each(t,function(n,t){r[t[0].split(" ").join(i+" ")+i]=t[1]}),r}var i=[],s=!!window.createPopup,r=!1,u=!1;n.SmartMenus=function(t,i){this.$root=n(t);this.opts=i;this.rootId="";this.accessIdPrefix="";this.$subArrow=null;this.activatedItems=[];this.visibleSubMenus=[];this.showTimeout=0;this.hideTimeout=0;this.scrollTimeout=0;this.clickActivated=!1;this.focusActivated=!1;this.zIndexInc=0;this.idInc=0;this.$firstLink=null;this.$firstSub=null;this.disabled=!1;this.$disableOverlay=null;this.isTouchScrolling=!1;this.wasCollapsible=!1;this.init()};n.extend(n.SmartMenus,{hideAll:function(){n.each(i,function(){this.menuHideAll()})},destroy:function(){while(i.length)i[0].destroy();f(!0)},prototype:{init:function(r){var e=this,u;if(r||(i.push(this),this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,""),this.accessIdPrefix="sm-"+this.rootId+"-",this.$root.hasClass("sm-rtl")&&(this.opts.rightToLeftSubMenus=!0),u=".smartmenus",this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).bind(t([["mouseover focusin",n.proxy(this.rootOver,this)],["mouseout focusout",n.proxy(this.rootOut,this)],["keydown",n.proxy(this.rootKeyDown,this)]],u)).delegate("a",t([["mouseenter",n.proxy(this.itemEnter,this)],["mouseleave",n.proxy(this.itemLeave,this)],["mousedown",n.proxy(this.itemDown,this)],["focus",n.proxy(this.itemFocus,this)],["blur",n.proxy(this.itemBlur,this)],["click",n.proxy(this.itemClick,this)],["touchend",n.proxy(this.itemTouchEnd,this)]],u)),u+=this.rootId,this.opts.hideOnClick&&n(document).bind(t([["touchstart",n.proxy(this.docTouchStart,this)],["touchmove",n.proxy(this.docTouchMove,this)],["touchend",n.proxy(this.docTouchEnd,this)],["click",n.proxy(this.docClick,this)]],u)),n(window).bind(t([["resize orientationchange",n.proxy(this.winResize,this)]],u)),this.opts.subIndicators&&(this.$subArrow=n("<span/>").addClass("sub-arrow"),this.opts.subIndicatorsText&&this.$subArrow.html(this.opts.subIndicatorsText)),f()),this.$firstSub=this.$root.find("ul").each(function(){e.menuInit(n(this))}).eq(0),this.$firstLink=this.$root.find("a").eq(0),this.opts.markCurrentItem){var o=/(index|default)\.[^#\?\/]*/i,s=window.location.href.replace(o,""),h=s.replace(/#.*/,"");this.$root.find("a").each(function(){var t=this.href.replace(o,""),i=n(this);(t==s||t==h)&&(i.addClass("current"),e.opts.markCurrentTree&&i.parentsUntil("[data-smartmenus-id]","ul").each(function(){n(this).dataSM("parent-a").addClass("current")}))})}this.wasCollapsible=this.isCollapsible()},destroy:function(t){var r,u;t||(r=".smartmenus",this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").unbind(r).undelegate(r),r+=this.rootId,n(document).unbind(r),n(window).unbind(r),this.opts.subIndicators&&(this.$subArrow=null));this.menuHideAll();u=this;this.$root.find("ul").each(function(){var t=n(this);t.dataSM("scroll-arrows")&&t.dataSM("scroll-arrows").remove();t.dataSM("shown-before")&&((u.opts.subMenusMinWidth||u.opts.subMenusMaxWidth)&&t.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap"),t.dataSM("scroll-arrows")&&t.dataSM("scroll-arrows").remove(),t.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""}));t.attr("id").indexOf(u.accessIdPrefix)==0&&t.removeAttr("id")}).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeAttr("aria-expanded");this.$root.find("a.has-submenu").each(function(){var t=n(this);t.attr("id").indexOf(u.accessIdPrefix)==0&&t.removeAttr("id")}).removeClass("has-submenu").removeDataSM("sub").removeAttr("aria-haspopup").removeAttr("aria-controls").removeAttr("aria-expanded").closest("li").removeDataSM("sub");this.opts.subIndicators&&this.$root.find("span.sub-arrow").remove();this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current");t||(this.$root=null,this.$firstLink=null,this.$firstSub=null,this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),i.splice(n.inArray(this,i),1))},disable:function(t){if(!this.disabled){if(this.menuHideAll(),!t&&!this.opts.isPopup&&this.$root.is(":visible")){var i=this.$root.offset();this.$disableOverlay=n('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:i.top,left:i.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex(!0),opacity:0}).appendTo(document.body)}this.disabled=!0}},docClick:function(t){if(this.isTouchScrolling){this.isTouchScrolling=!1;return}(this.visibleSubMenus.length&&!n.contains(this.$root[0],t.target)||n(t.target).is("a"))&&this.menuHideAll()},docTouchEnd:function(){if(this.lastTouch){if(this.visibleSubMenus.length&&(this.lastTouch.x2===undefined||this.lastTouch.x1==this.lastTouch.x2)&&(this.lastTouch.y2===undefined||this.lastTouch.y1==this.lastTouch.y2)&&(!this.lastTouch.target||!n.contains(this.$root[0],this.lastTouch.target))){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var t=this;this.hideTimeout=setTimeout(function(){t.menuHideAll()},350)}this.lastTouch=null}},docTouchMove:function(n){if(this.lastTouch){var t=n.originalEvent.touches[0];this.lastTouch.x2=t.pageX;this.lastTouch.y2=t.pageY}},docTouchStart:function(n){var t=n.originalEvent.touches[0];this.lastTouch={x1:t.pageX,y1:t.pageY,target:t.target}},enable:function(){this.disabled&&(this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),this.disabled=!1)},getClosestMenu:function(t){for(var i=n(t).closest("ul");i.dataSM("in-mega");)i=i.parent().closest("ul");return i[0]||null},getHeight:function(n){return this.getOffset(n,!0)},getOffset:function(n,t){var u,i,r;return n.css("display")=="none"&&(u={position:n[0].style.position,visibility:n[0].style.visibility},n.css({position:"absolute",visibility:"hidden"}).show()),i=n[0].getBoundingClientRect&&n[0].getBoundingClientRect(),r=i&&(t?i.height||i.bottom-i.top:i.width||i.right-i.left),r||r===0||(r=t?n[0].offsetHeight:n[0].offsetWidth),u&&n.hide().css(u),r},getStartZIndex:function(n){var t=parseInt(this[n?"$root":"$firstSub"].css("z-index"));return!n&&isNaN(t)&&(t=parseInt(this.$root.css("z-index"))),isNaN(t)?1:t},getTouchPoint:function(n){return n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0]||n},getViewport:function(n){var i=n?"Height":"Width",t=document.documentElement["client"+i],r=window["inner"+i];return r&&(t=Math.min(t,r)),t},getViewportHeight:function(){return this.getViewport(!0)},getViewportWidth:function(){return this.getViewport()},getWidth:function(n){return this.getOffset(n)},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function(n){return this.handleEvents()&&!this.isLinkInMegaMenu(n)},isCollapsible:function(){return this.$firstSub.css("position")=="static"},isCSSOn:function(){return this.$firstLink.css("display")=="block"},isFixed:function(){var t=this.$root.css("position")=="fixed";return t||this.$root.parentsUntil("body").each(function(){if(n(this).css("position")=="fixed")return t=!0,!1}),t},isLinkInMegaMenu:function(t){return n(this.getClosestMenu(t[0])).hasClass("mega-menu")},isTouchMode:function(){return!r||this.isCollapsible()},itemActivate:function(t,i){var u=t.closest("ul"),r=u.dataSM("level"),e,f;(r>1&&(!this.activatedItems[r-2]||this.activatedItems[r-2][0]!=u.dataSM("parent-a")[0])&&(e=this,n(u.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add(u).each(function(){e.itemActivate(n(this).dataSM("parent-a"))})),(!this.isCollapsible()||i)&&this.menuHideSubMenus(!this.activatedItems[r-1]||this.activatedItems[r-1][0]!=t[0]?r-1:r),this.activatedItems[r-1]=t,this.$root.triggerHandler("activate.smapi",t[0])!==!1)&&(f=t.dataSM("sub"),f&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)&&this.menuShow(f))},itemBlur:function(t){var i=n(t.currentTarget);this.handleItemEvents(i)&&this.$root.triggerHandler("blur.smapi",i[0])},itemClick:function(t){var i,u,r;if(this.isTouchScrolling)return this.isTouchScrolling=!1,t.stopPropagation(),!1;if(i=n(t.currentTarget),this.handleItemEvents(i)){if(this.$root.triggerHandler("click.smapi",i[0])===!1)return!1;if(i.dataSM("href")&&i.attr("href",i.dataSM("href")).removeDataSM("href"),u=n(t.target).is("span.sub-arrow"),r=i.dataSM("sub"),r&&!r.is(":visible")){if(this.itemActivate(i),r.is(":visible"))return this.focusActivated=!0,!1}else if(this.isCollapsible()&&u)return this.itemActivate(i),this.menuHide(r),!1;return this.opts.showOnClick&&r&&r.dataSM("level")==2?(this.clickActivated=!0,this.menuShow(r),!1):i.hasClass("disabled")?!1:this.$root.triggerHandler("select.smapi",i[0])===!1?!1:void 0}},itemDown:function(t){var i=n(t.currentTarget);this.handleItemEvents(i)&&i.dataSM("mousedown",!0)},itemEnter:function(t){var i=n(t.currentTarget),r;this.handleItemEvents(i)&&(this.isTouchMode()||(this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0),r=this,this.showTimeout=setTimeout(function(){r.itemActivate(i)},this.opts.showOnClick&&i.closest("ul").dataSM("level")==1?1:this.opts.showTimeout)),this.$root.triggerHandler("mouseenter.smapi",i[0]))},itemFocus:function(t){var i=n(t.currentTarget);this.handleItemEvents(i)&&(!this.focusActivated||this.isTouchMode()&&i.dataSM("mousedown")||this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0]==i[0]||this.itemActivate(i,!0),this.$root.triggerHandler("focus.smapi",i[0]))},itemLeave:function(t){var i=n(t.currentTarget);this.handleItemEvents(i)&&(this.isTouchMode()||this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0),i.removeDataSM("mousedown"),this.$root.triggerHandler("mouseleave.smapi",i[0]))},itemTouchEnd:function(t){var i=n(t.currentTarget),r;this.handleItemEvents(i)&&(r=i.dataSM("sub"),i.attr("href").charAt(0)!=="#"&&r&&!r.is(":visible")&&i.dataSM("href",i.attr("href")).attr("href","#"))},menuHide:function(t){var i,r;this.$root.triggerHandler("beforehide.smapi",t[0])!==!1&&(t.stop(!0,!0),t.css("display")!="none"&&(i=function(){t.css("z-index","")},this.isCollapsible()?this.opts.collapsibleHideFunction?this.opts.collapsibleHideFunction.call(this,t,i):t.hide(this.opts.collapsibleHideDuration,i):this.opts.hideFunction?this.opts.hideFunction.call(this,t,i):t.hide(this.opts.hideDuration,i),t.dataSM("ie-shim")&&t.dataSM("ie-shim").remove(),t.dataSM("scroll")&&(this.menuScrollStop(t),t.css({"touch-action":"","-ms-touch-action":""}).unbind(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide()),t.dataSM("parent-a").removeClass("highlighted").attr("aria-expanded","false"),t.attr({"aria-expanded":"false","aria-hidden":"true"}),r=t.dataSM("level"),this.activatedItems.splice(r-1,1),this.visibleSubMenus.splice(n.inArray(t,this.visibleSubMenus),1),this.$root.triggerHandler("hide.smapi",t[0])))},menuHideAll:function(){var t,n;for(this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0),t=this.opts.isPopup?1:0,n=this.visibleSubMenus.length-1;n>=t;n--)this.menuHide(this.visibleSubMenus[n]);this.opts.isPopup&&(this.$root.stop(!0,!0),this.$root.is(":visible")&&(this.opts.hideFunction?this.opts.hideFunction.call(this,this.$root):this.$root.hide(this.opts.hideDuration),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").remove()));this.activatedItems=[];this.visibleSubMenus=[];this.clickActivated=!1;this.focusActivated=!1;this.zIndexInc=0},menuHideSubMenus:function(n){for(var t,i=this.activatedItems.length-1;i>=n;i--)t=this.activatedItems[i].dataSM("sub"),t&&this.menuHide(t)},menuIframeShim:function(t){s&&this.opts.overlapControlsInIE&&!t.dataSM("ie-shim")&&t.dataSM("ie-shim",n("<iframe/>").attr({src:"javascript:0",tabindex:-9}).css({position:"absolute",top:"auto",left:"0",opacity:0,border:"0"}))},menuInit:function(n){var i,r,t,u,f;if(!n.dataSM("in-mega")){for(n.hasClass("mega-menu")&&n.find("ul").dataSM("in-mega",!0),i=2,r=n[0];(r=r.parentNode.parentNode)!=this.$root[0];)i++;t=n.prevAll("a").eq(-1);t.length||(t=n.prevAll().find("a").eq(-1));t.addClass("has-submenu").dataSM("sub",n);n.dataSM("parent-a",t).dataSM("level",i).parent().dataSM("sub",n);u=t.attr("id")||this.accessIdPrefix+ ++this.idInc;f=n.attr("id")||this.accessIdPrefix+ ++this.idInc;t.attr({id:u,"aria-haspopup":"true","aria-controls":f,"aria-expanded":"false"});n.attr({id:f,role:"group","aria-hidden":"true","aria-labelledby":u,"aria-expanded":"false"});this.opts.subIndicators&&t[this.opts.subIndicatorsPos](this.$subArrow.clone())}},menuPosition:function(i){var w=i.dataSM("parent-a"),g=w.closest("li"),it=g.parent(),rt=i.dataSM("level"),e=this.getWidth(i),r=this.getHeight(i),ut=w.offset(),ot=ut.left,st=ut.top,nt=this.getWidth(w),y=this.getHeight(w),ft=n(window),b=ft.scrollLeft(),l=ft.scrollTop(),et=this.getViewportWidth(),a=this.getViewportHeight(),s=it.hasClass("sm")&&!it.hasClass("sm-vertical"),k=this.opts.rightToLeftSubMenus&&!g.is("[data-sm-reverse]")||!this.opts.rightToLeftSubMenus&&g.is("[data-sm-reverse]"),v=rt==2?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,d=rt==2?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY,u,h,p,c,f,tt;s?(u=k?nt-e-v:v,h=this.opts.bottomToTopSubMenus?-r-d:y+d):(u=k?v-e:nt-v,h=this.opts.bottomToTopSubMenus?y-d-r:d);this.opts.keepInViewport&&(p=ot+u,c=st+h,k&&p<b?u=s?b-p+u:nt-v:!k&&p+e>b+et&&(u=s?b+et-e-p+u:v-e),s||(r<a&&c+r>l+a?h+=l+a-r-c:(r>=a||c<l)&&(h+=l-c)),(s&&(c+r>l+a+.49||c<l)||!s&&r>a+.49)&&(f=this,i.dataSM("scroll-arrows")||i.dataSM("scroll-arrows",n([n('<span class="scroll-up"><span class="scroll-up-arrow"><\/span><\/span>')[0],n('<span class="scroll-down"><span class="scroll-down-arrow"><\/span><\/span>')[0]]).bind({mouseenter:function(){i.dataSM("scroll").up=n(this).hasClass("scroll-up");f.menuScroll(i)},mouseleave:function(n){f.menuScrollStop(i);f.menuScrollOut(i,n)},"mousewheel DOMMouseScroll":function(n){n.preventDefault()}}).insertAfter(i)),tt=".smartmenus_scroll",i.dataSM("scroll",{step:1,itemH:y,subH:r,arrowDownH:this.getHeight(i.dataSM("scroll-arrows").eq(1))}).bind(t([["mouseover",function(n){f.menuScrollOver(i,n)}],["mouseout",function(n){f.menuScrollOut(i,n)}],["mousewheel DOMMouseScroll",function(n){f.menuScrollMousewheel(i,n)}]],tt)).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:u+(parseInt(i.css("border-left-width"))||0),width:e-(parseInt(i.css("border-left-width"))||0)-(parseInt(i.css("border-right-width"))||0),zIndex:i.css("z-index")}).eq(s&&this.opts.bottomToTopSubMenus?0:1).show(),this.isFixed()&&i.css({"touch-action":"none","-ms-touch-action":"none"}).bind(t([[o()?"touchstart touchmove touchend":"pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp",function(n){f.menuScrollTouch(i,n)}]],tt))));i.css({top:"auto",left:"0",marginLeft:u,marginTop:h-y});this.menuIframeShim(i);i.dataSM("ie-shim")&&i.dataSM("ie-shim").css({zIndex:i.css("z-index"),width:e,height:r,marginLeft:u,marginTop:h-y})},menuScroll:function(n,t,i){var u=n.dataSM("scroll"),c=n.dataSM("scroll-arrows"),e=parseFloat(n.css("margin-top")),o=u.up?u.upEnd:u.downEnd,f,s,h,l;if(!t&&u.velocity){if(u.velocity*=.9,f=u.velocity,f<.5){this.menuScrollStop(n);return}}else f=i||(t||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor(u.step));s=n.dataSM("level");this.activatedItems[s-1]&&this.activatedItems[s-1].dataSM("sub")&&this.activatedItems[s-1].dataSM("sub").is(":visible")&&this.menuHideSubMenus(s-1);h=u.up&&o<=e||!u.up&&o>=e?e:Math.abs(o-e)>f?e+(u.up?f:-f):o;n.add(n.dataSM("ie-shim")).css("margin-top",h);r&&(u.up&&h>u.downEnd||!u.up&&h<u.upEnd)&&c.eq(u.up?1:0).show();h==o?(r&&c.eq(u.up?0:1).hide(),this.menuScrollStop(n)):t||(this.opts.scrollAccelerate&&u.step<this.opts.scrollStep&&(u.step+=.5),l=this,this.scrollTimeout=setTimeout(function(){l.menuScroll(n)},this.opts.scrollInterval))},menuScrollMousewheel:function(n,t){if(this.getClosestMenu(t.target)==n[0]){t=t.originalEvent;var i=(t.wheelDelta||-t.detail)>0;n.dataSM("scroll-arrows").eq(i?0:1).is(":visible")&&(n.dataSM("scroll").up=i,this.menuScroll(n,!0))}t.preventDefault()},menuScrollOut:function(t,i){r&&(/^scroll-(up|down)/.test((i.relatedTarget||"").className)||(t[0]==i.relatedTarget||n.contains(t[0],i.relatedTarget))&&this.getClosestMenu(i.relatedTarget)==t[0]||t.dataSM("scroll-arrows").css("visibility","hidden"))},menuScrollOver:function(n,t){if(r&&!/^scroll-(up|down)/.test(t.target.className)&&this.getClosestMenu(t.target)==n[0]){this.menuScrollRefreshData(n);var i=n.dataSM("scroll");n.dataSM("scroll-arrows").eq(0).css("margin-top",i.upEnd).end().eq(1).css("margin-top",i.downEnd+i.subH-i.arrowDownH).end().css("visibility","visible")}},menuScrollRefreshData:function(t){var i=t.dataSM("scroll"),u=n(window),r=u.scrollTop()-t.dataSM("parent-a").offset().top-i.itemH;n.extend(i,{upEnd:r,downEnd:r+this.getViewportHeight()-i.subH})},menuScrollStop:function(t){if(this.scrollTimeout)return clearTimeout(this.scrollTimeout),this.scrollTimeout=0,n.extend(t.dataSM("scroll"),{step:1,velocity:0}),!0},menuScrollTouch:function(t,i){var u,r,f;i=i.originalEvent;e(i)&&(u=this.getTouchPoint(i),this.getClosestMenu(u.target)==t[0]&&(r=t.dataSM("scroll"),/(start|down)$/i.test(i.type)?(this.menuScrollStop(t)?(i.preventDefault(),this.isTouchScrolling=!0):this.isTouchScrolling=!1,this.menuScrollRefreshData(t),n.extend(r,{touchY:u.pageY,touchTimestamp:i.timeStamp,velocity:0})):/move$/i.test(i.type)?(f=r.touchY,f!==undefined&&f!=u.pageY&&(this.isTouchScrolling=!0,n.extend(r,{up:f<u.pageY,touchY:u.pageY,touchTimestamp:i.timeStamp,velocity:r.velocity+Math.abs(u.pageY-f)*.5}),this.menuScroll(t,!0,Math.abs(r.touchY-f))),i.preventDefault()):r.touchY!==undefined&&(i.timeStamp-r.touchTimestamp<120&&r.velocity>0&&(r.velocity*=.5,this.menuScrollStop(t),this.menuScroll(t),i.preventDefault()),delete r.touchY)))},menuShow:function(n){var i,r,t;(n.dataSM("beforefirstshowfired")||(n.dataSM("beforefirstshowfired",!0),this.$root.triggerHandler("beforefirstshow.smapi",n[0])!==!1))&&this.$root.triggerHandler("beforeshow.smapi",n[0])!==!1&&(n.dataSM("shown-before",!0).stop(!0,!0),n.is(":visible")||(i=n.dataSM("parent-a"),(this.opts.keepHighlighted||this.isCollapsible())&&i.addClass("highlighted"),this.isCollapsible()?n.removeClass("sm-nowrap").css({zIndex:"",width:"auto",minWidth:"",maxWidth:"",top:"",left:"",marginLeft:"",marginTop:""}):(n.css("z-index",this.zIndexInc=(this.zIndexInc||this.getStartZIndex())+1),(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth)&&(n.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&n.css("min-width",this.opts.subMenusMinWidth),this.opts.subMenusMaxWidth&&(r=this.getWidth(n),n.css("max-width",this.opts.subMenusMaxWidth),r>this.getWidth(n)&&n.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth))),this.menuPosition(n),n.dataSM("ie-shim")&&n.dataSM("ie-shim").insertBefore(n)),t=function(){n.css("overflow","")},this.isCollapsible()?this.opts.collapsibleShowFunction?this.opts.collapsibleShowFunction.call(this,n,t):n.show(this.opts.collapsibleShowDuration,t):this.opts.showFunction?this.opts.showFunction.call(this,n,t):n.show(this.opts.showDuration,t),i.attr("aria-expanded","true"),n.attr({"aria-expanded":"true","aria-hidden":"false"}),this.visibleSubMenus.push(n),this.$root.triggerHandler("show.smapi",n[0])))},popupHide:function(n){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var t=this;this.hideTimeout=setTimeout(function(){t.menuHideAll()},n?1:this.opts.hideTimeout)},popupShow:function(n,t){if(!this.opts.isPopup){alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.');return}if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),this.$root.dataSM("shown-before",!0).stop(!0,!0),!this.$root.is(":visible")){this.$root.css({left:n,top:t});this.menuIframeShim(this.$root);this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").css({zIndex:this.$root.css("z-index"),width:this.getWidth(this.$root),height:this.getHeight(this.$root),left:n,top:t}).insertBefore(this.$root);var r=this,i=function(){r.$root.css("overflow","")};this.opts.showFunction?this.opts.showFunction.call(this,this.$root,i):this.$root.show(this.opts.showDuration,i);this.visibleSubMenus[0]=this.$root}},refresh:function(){this.destroy(!0);this.init(!0)},rootKeyDown:function(t){var r,u,i;if(this.handleEvents())switch(t.keyCode){case 27:r=this.activatedItems[0];r&&(this.menuHideAll(),r[0].focus(),i=r.dataSM("sub"),i&&this.menuHide(i));break;case 32:u=n(t.target);u.is("a")&&this.handleItemEvents(u)&&(i=u.dataSM("sub"),i&&!i.is(":visible")&&(this.itemClick({currentTarget:t.target}),t.preventDefault()))}},rootOut:function(n){if(this.handleEvents()&&!this.isTouchMode()&&n.target!=this.$root[0]&&(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),!this.opts.showOnClick||!this.opts.hideOnClick)){var t=this;this.hideTimeout=setTimeout(function(){t.menuHideAll()},this.opts.hideTimeout)}},rootOver:function(n){this.handleEvents()&&!this.isTouchMode()&&n.target!=this.$root[0]&&this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},winResize:function(n){var t,i;if(!this.handleEvents()){this.$disableOverlay&&(t=this.$root.offset(),this.$disableOverlay.css({top:t.top,left:t.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()}));return}"onorientationchange"in window&&n.type!="orientationchange"||(i=this.isCollapsible(),this.wasCollapsible&&i||(this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0].blur(),this.menuHideAll()),this.wasCollapsible=i)}}});n.fn.dataSM=function(n,t){return t?this.data(n+"_smartmenus",t):this.data(n+"_smartmenus")};n.fn.removeDataSM=function(n){return this.removeData(n+"_smartmenus")};n.fn.smartmenus=function(t){var i,r,u;return typeof t=="string"?(i=arguments,r=t,Array.prototype.shift.call(i),this.each(function(){var t=n(this).data("smartmenus");t&&t[r]&&t[r].apply(t,i)})):(u=n.extend({},n.fn.smartmenus.defaults,t),this.each(function(){new n.SmartMenus(this,u)}))};n.fn.smartmenus.defaults={isPopup:!1,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:"10em",subMenusMaxWidth:"20em",subIndicators:!0,subIndicatorsPos:"prepend",subIndicatorsText:"+",scrollStep:30,scrollInterval:30,scrollAccelerate:!0,showTimeout:250,hideTimeout:500,showDuration:0,showFunction:null,hideDuration:0,hideFunction:function(n,t){n.fadeOut(200,t)},collapsibleShowDuration:0,collapsibleShowFunction:function(n,t){n.slideDown(200,t)},collapsibleHideDuration:0,collapsibleHideFunction:function(n,t){n.slideUp(200,t)},showOnClick:!1,hideOnClick:!0,keepInViewport:!0,keepHighlighted:!0,markCurrentItem:!1,markCurrentTree:!0,rightToLeftSubMenus:!1,bottomToTopSubMenus:!1,overlapControlsInIE:!0}})(jQuery);
/*!
 * SmartMenus jQuery Plugin Bootstrap Addon - v0.2.0 - June 1, 2015
 * http://www.smartmenus.org/
 *
 * Copyright 2015 Vasil Dinkov, Vadikom Web Ltd.
 * http://vadikom.com
 *
 * Licensed MIT
 */
(function(n){n(function(){var t=n("ul.navbar-nav:not([data-sm-skip])");t.each(function(){function u(){var n=i.getViewportWidth();n!=f&&(i.isCollapsible()?(t.addClass("sm-collapsible"),t.is("[data-sm-skip-collapsible-behavior]")||r.addClass("navbar-toggle sub-arrow")):(t.removeClass("sm-collapsible"),t.is("[data-sm-skip-collapsible-behavior]")||r.removeClass("navbar-toggle sub-arrow")),f=n)}var t=n(this),i,r,f;t.addClass("sm").smartmenus({subMenusSubOffsetX:2,subMenusSubOffsetY:-6,subIndicators:!1,collapsibleShowFunction:null,collapsibleHideFunction:null,rightToLeftSubMenus:t.hasClass("navbar-right"),bottomToTopSubMenus:t.closest(".navbar").hasClass("navbar-fixed-bottom")}).bind({"show.smapi":function(t,i){var r=n(i),u=r.dataSM("scroll-arrows");u&&u.css("background-color",n(document.body).css("background-color"));r.parent().addClass("open")},"hide.smapi":function(t,i){n(i).parent().removeClass("open")}}).find("a.current").parent().addClass("active");i=t.data("smartmenus");t.is("[data-sm-skip-collapsible-behavior]")&&t.bind({"click.smapi":function(t,r){if(i.isCollapsible()){var f=n(r),u=f.parent().dataSM("sub");if(u&&u.dataSM("shown-before")&&u.is(":visible"))return i.itemActivate(f),i.menuHide(u),!1}}});r=t.find(".caret");u();n(window).bind("resize.smartmenus"+i.rootId,u)})});n.SmartMenus.prototype.isCollapsible=function(){return this.$firstLink.parent().css("float")!="left"}})(jQuery);
//# sourceMappingURL=jQueryPluginsBundle.min.js.map
